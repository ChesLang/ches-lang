# リテラル

## 一覧

- [真偽値リテラル](#真偽値リテラル)
- [文字リテラル](#文字リテラル)
- [文字列リテラル](#文字列リテラル)
- [生文字列リテラル](#生文字列リテラル)
- [数値リテラル](#数値リテラル)
- [配列リテラル](#配列リテラル)
- [オブジェクトリテラル](#オブジェクトリテラル)

### 真偽値リテラル

キーワード `true` もしくは `false` によって真偽値を表現する。

```
[構文: 式 > リテラル > 真偽値リテラル]
true
false
```

### 文字リテラル

1つの文字をシングルクォーテーションで囲うことで文字を表現する。

扱えるエスケープシーケンスについては [スケープシーケンス](#エスケープシーケンス) を参照すること。

```
[構文: 式 > リテラル > 文字リテラル]
'a'
```

### 文字列リテラル

文字列をダブルクォーテーションで囲うことで 0 個以上の連続した文字を表現する。

`${式}` と表記することで文字列内に任意の式を展開できる。(式展開という)

扱えるエスケープシーケンスについては [エスケープシーケンス](#エスケープシーケンス) を参照すること。

```
[構文: 式 > リテラル > 文字列リテラル]
"1 + 2"
"1 + 2 = ${1 + 2}"
```

### 生文字列リテラル

通常の文字列リテラルとは異なり、要素をエスケープせずにそのまま表現することができる。

リテラル内でダブルクォーテーションを扱う場合は `r{"..."}` のように波括弧を利用する。

```
[構文: 式 > リテラル > 生文字列リテラル]
r"dir\file"
r{{"{"key": "value"}"}}
```

### 数値リテラル

数値及び浮動小数点数値を表現する。

可読性のため `100_000.000_01` のような `_` を使った3桁区切りの表記が認められている。

`01` のように先頭に `0` を付ける整数表記は推奨されず、また、浮動小数点数表記 `0.1` を `.1` のように整数桁 `0` を省略することは認められない。

数値リテラルのデフォルトの基数は 10、型は `s32` であるが、接頭辞や接尾辞を付けることにより任意の基数もしくは型を指定できる。

なお型が指定されていない場合は型推論により文脈に合った型に変換されることがある。

|接頭辞|内容|
|:-|:-|
|`0b`|2進数|
|`0o`|8進数|
|`0x`|16進数|

|接尾辞|内容|
|:-|:-|
|`s8` `s16` `s32` `s64`|指定ビット数の符号付き整数|
|`u8` `u16` `u32` `u64`|指定ビット数の符号なし整数|
|`f32` `f64`|指定ビット数の浮動小数点数|

```
[構文: 式 > リテラル > 数値リテラル]
1
1s32
0x1s32
```

### 配列リテラル

0 個以上の要素を指定することにより固定長の配列オブジェクトを生成する。

```
[構文: 式 > リテラル > 配列リテラル]
[e1, e2]

[
    e1
    e2
]
```

### オブジェクトリテラル

構造型の識別子とフィールド名に対応した値を基に構造型を実体化する。

```
[構文: 式 > リテラル > オブジェクト]
StructType { f1: v1, f2: v2 }

StructType {
    f1: v1
    f2: v2
}
```

## エスケープシーケンス

文字リテラル及び文字列リテラル内でエスケープシーケンスを利用できる。

|構文|対象|表現|
|:-|:-|:-|
|`\0`|すべて|ヌル文字|
|`\\`|すべて|`\`|
|`\'`|文字のみ|`'`|
|`\"`|文字列のみ|`"`|
|`\n`|すべて|改行|
|`\t`|すべて|水平タブ|
|`\${}`|文字列のみ|`${}` (式展開構文)|
|`\u{}`|すべて|Unicode 文字|

### Unicode 文字

小文字英数で表記された 1-4 桁の 16 進数を指定する。

`\u{0020}` を `\u{20}` とするように先頭の `0` を省略することができる。

---

Copyright © 2019- Ches All rights reserved.
